(this["webpackJsonpmy-react-todo"]=this["webpackJsonpmy-react-todo"]||[]).push([[0],{30:function(t,e,o){t.exports=o(58)},35:function(t,e,o){},58:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(28),c=o.n(r),l=(o(35),o(12)),s=function(){return n.a.createElement("header",null,n.a.createElement("h1",null,"Tasks"),n.a.createElement("nav",null,n.a.createElement(l.b,{to:"/"},"Home"),n.a.createElement(l.b,{to:"/todos"},"Todos")))},d=o(1),i=function(){return n.a.createElement("h2",{class:"home-header"},"Your personal to-do list")},u=o(7),m=o(8),p=o(10),h=o(9),f=o(14),v=o.n(f),y="https://super-crud.herokuapp.com/todos",b=function t(){Object(u.a)(this,t)};b.delete=function(t){return v.a.delete("".concat(y,"/").concat(t._id))},b.create=function(t){return v.a.post(y,t)},b.update=function(t){return v.a.put("".concat(y,"/").concat(t._id),t)},b.all=function(){return v.a.get(y)};var E=b,g=function(t){Object(p.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(u.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={todo:""},t.onChange=function(e){t.setState({todo:e.target.value})},t.onSubmit=function(e){e.preventDefault();var o=t.props.todo;o.body=t.state.todo,t.props.updateTodo(o),t.setState({todo:""}),t.props.toggleBodyForm()},t}return Object(m.a)(o,[{key:"render",value:function(){return n.a.createElement("div",{style:this.props.style,className:"todoForm"},n.a.createElement("form",{onSubmit:this.onSubmit},n.a.createElement("input",{autoFocus:this.props.autoFocus,onChange:this.onChange,placeholder:"Write a todo here ...",type:"text",value:this.state.todo}),n.a.createElement("button",{type:"submit"},"Save")))}}]),o}(a.Component),T=function(t){Object(p.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(u.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={formStyle:{display:"none"}},t.toggleBodyForm=function(){"block"===t.state.formStyle.display?t.setState({formStyle:{display:"none"}}):t.setState({formStyle:{display:"block"}})},t.deleteClickedTodo=function(){t.props.deleteTodo(t.props.todo)},t}return Object(m.a)(o,[{key:"render",value:function(){return n.a.createElement("li",{"data-todos-index":this.props.todo._id},n.a.createElement("div",null,n.a.createElement("span",{className:"todo-item"},this.props.todo.body),n.a.createElement("span",{className:"edit",onClick:this.toggleBodyForm},n.a.createElement("i",{class:"fas fa-edit"})),n.a.createElement("span",{className:"remove",onClick:this.deleteClickedTodo},n.a.createElement("i",{class:"far fa-trash-alt"}))),n.a.createElement(g,{todo:this.props.todo,style:this.state.formStyle,autoFocus:!0,updateTodo:this.props.updateTodo,toggleBodyForm:this.toggleBodyForm}))}}]),o}(a.Component),S=function(t){var e=t.todos.map((function(e){return n.a.createElement(T,{key:e._id,todo:e,updateTodo:t.updateTodo,deleteTodo:t.deleteTodo})}));return n.a.createElement("ul",null,e)},k=function(t){Object(p.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(u.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={todo:""},t.onInputChange=function(e){t.setState({todo:e.target.value})},t.onFormSubmit=function(e){e.preventDefault();var o=t.state.todo;t.props.createTodo(o),t.setState({todo:""})},t}return Object(m.a)(o,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("form",{onSubmit:this.onFormSubmit,id:"taskForm"},n.a.createElement("input",{onChange:this.onInputChange,type:"text",id:"newItemDescription",placeholder:"What do you need to do?",value:this.state.todo}),n.a.createElement("button",{type:"submit",id:"addTask",className:"btn"},"Add Todo")))}}]),o}(a.Component),j=function(t){Object(p.a)(o,t);var e=Object(h.a)(o);function o(){var t;Object(u.a)(this,o);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={todos:[]},t.fetchData=function(){E.all().then((function(e){t.setState({todos:e.data.todos})}))},t.createTodo=function(e){var o={body:e,completed:!1};E.create(o).then((function(e){var o=t.state.todos;o.push(e.data),t.setState({todos:o})}))},t.updateTodo=function(e){var o=function(t){return t._id===e._id};E.update(e).then((function(a){var n=t.state.todos;n.find(o).body=e.body,t.setState({todos:n})}))},t.deleteTodo=function(e){E.delete(e).then((function(o){console.log(e);var a=t.state.todos.filter((function(t){return console.log(t),t._id!==o.data._id}));t.setState({todos:a})}))},t}return Object(m.a)(o,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return n.a.createElement("div",{className:"todosComponent"},n.a.createElement(k,{createTodo:this.createTodo}),n.a.createElement(S,{todos:this.state.todos,updateTodo:this.updateTodo,deleteTodo:this.deleteTodo}))}}]),o}(a.Component),O=function(){return n.a.createElement(d.c,null,n.a.createElement(d.a,{exact:!0,path:"/",component:i}),n.a.createElement(d.a,{path:"/todos",component:j}))};var C=function(){return n.a.createElement("div",{className:"container"},n.a.createElement(s,null),n.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(l.a,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.2d88745e.chunk.js.map